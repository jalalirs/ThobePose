<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Thobe Dataset &#8212; Thobe Dataset 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="https://github.com/jalalirs/ThobePose/raw/master/docs/_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="https://github.com/jalalirs/ThobePose/raw/master/docs/_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="https://github.com/jalalirs/ThobePose/raw/master/docs/_static/jquery.js"></script>
    <script type="text/javascript" src="https://github.com/jalalirs/ThobePose/raw/master/docs/_static/underscore.js"></script>
    <script type="text/javascript" src="https://github.com/jalalirs/ThobePose/raw/master/docs/_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="https://github.com/jalalirs/ThobePose/raw/master/docs/_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="#">Thobe Dataset 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="figure align-center">
<a class="reference internal image-reference" href="_images/header.png"><img alt="_images/header.png" src="_images/header.png" style="width: 960px;" /></a>
</div>
<div class="section" id="description">
<h1>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h1>
<p>To kick off a series of future projects aiming to provide optimum estimation of human pose with difficult dress variations, and to compensate for the lacking of training and testing data, we used data synthesis approach discussed in <a class="reference external" href="http://www.cse.chalmers.se/edu/year/2010/course/TDA361/Advanced%20Computer%20Graphics/BodyPartRecognition.pdf/">[1]</a> to synthesize new dataset for estimating pose of human wearing Thobe. Instead of saving large number of images, and since our approach is based on synthesizing data, we provide in this page the raw material and a recipe needed for compiling and synthesizing the data. By following the recipe below, you will be able to generate the full base dataset as well as generating manipulated data by modifying the material. For simple usage, you can download the sample datasets in <a class="reference external" href="#get-started">Get Started</a> section below.</p>
<p>The datasets that can be generated from the raw material are based on a single man character with a physique that represents a taut body person with a moderate tall. There are maximum of 1193 frames for each dataset described below.</p>
</div>
<div class="section" id="datasets">
<h1>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h1>
<p>The raw material (as it is without modification) allows you to synthesize the following datasets:</p>
<div class="section" id="plain-character-dataset">
<h2>Plain-character Dataset<a class="headerlink" href="#plain-character-dataset" title="Permalink to this headline">¶</a></h2>
<p>The plain dataset emulates the dataset in <a class="reference external" href="http://www.citrinitas.com/historyofviscom/rockandcaves.html">[2]</a> and the dataset discussed but not released in <a class="reference external" href="http://www.cse.chalmers.se/edu/year/2010/course/TDA361/Advanced%20Computer%20Graphics/BodyPartRecognition.pdf">[1]</a>.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/nothobe.png"><img alt="_images/nothobe.png" src="_images/nothobe.png" style="width: 480px;" /></a>
</div>
</div>
<div class="section" id="thobe-character-dataset">
<h2>Thobe-character Dataset<a class="headerlink" href="#thobe-character-dataset" title="Permalink to this headline">¶</a></h2>
<p>Initially, we followed the body segmentation provided in <a class="reference external" href="http://www.cse.chalmers.se/edu/year/2010/course/TDA361/Advanced%20Computer%20Graphics/BodyPartRecognition.pdf">[1]</a> which divides the body into 31 segments. Later, however, we simplified the segmentation by merging the lower body parts into two and four segments.</p>
<div class="section" id="colors">
<h3>2colors<a class="headerlink" href="#colors" title="Permalink to this headline">¶</a></h3>
<p>In this dataset, we segment the body into 26 parts. The upper body part is segmented according to definitions in <a class="reference external" href="http://www.cse.chalmers.se/edu/year/2010/course/TDA361/Advanced%20Computer%20Graphics/BodyPartRecognition.pdf">[1]</a>. The lower body part (excluding the feet) however, is divided into two parts only: Left Lower Part, and Right Lower Part. Each of these two segments encompasses the thigh, the knee, the leg, and the ankle.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/2colors.png"><img alt="_images/2colors.png" src="_images/2colors.png" style="width: 480px;" /></a>
</div>
</div>
<div class="section" id="id6">
<h3>4colors<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>In this dataset, we segment the body into 28 parts. Similar to the previous dataset, we divide the lower body parts in 4 segments: 2 Left and 2 Right. This segmentation is adopted in <a class="reference external" href="http://www.citrinitas.com/historyofviscom/rockandcaves.html">[2]</a> as well. This segmentation, in fact, is more appropriate for two reasons. First, the lower body part consists of two big bones on each side: Femur (Thigh Bone), Tibia and Fibula(the leg bones). These bones construct two complete distinctive body parts: thighs and legs and hence can be represented by 4 colors. Second, Thobe hides all the distinctive features of the knee and the ankle, and in many cases (e.g. T-Pose) it is very difficult to estimate their specific locations without considering the geometrical nature and properties of a human being.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/4colors.png"><img alt="_images/4colors.png" src="_images/4colors.png" style="width: 480px;" /></a>
</div>
</div>
<div class="section" id="id8">
<h3>8colors<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The 8colors segmentation divides the body into 32 parts. It was first introduced by Shotton in <a class="reference external" href="http://www.cse.chalmers.se/edu/year/2010/course/TDA361/Advanced%20Computer%20Graphics/BodyPartRecognition.pdf/">[1]</a></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/8colors.png"><img alt="_images/8colors.png" src="_images/8colors.png" style="width: 480px;" /></a>
</div>
</div>
</div>
</div>
<div class="section" id="pre-requisite">
<h1>Pre-requisite<a class="headerlink" href="#pre-requisite" title="Permalink to this headline">¶</a></h1>
<p>The following applications are required in order to generate the datasets:</p>
<ol class="arabic simple">
<li><a class="reference external" href="http://www.autodesk.com/products/maya/overview">Maya</a> from AutoDesk. You can acquire a student license for free</li>
<li><a class="reference external" href="https://www.python.org/download/releases/2.7/">Python 2.7</a></li>
</ol>
</div>
<div class="section" id="id10">
<h1>Get Started<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h1>
<p>If you wish to use the basic datasets, please download them from here(<a class="reference external" href="../datasets/nothobe.zip/">nothobe</a> &amp; <a class="reference external" href="../datasets/4colors.zip/">4colors</a>)</p>
<p>To be able to acquire the full dataset, please follow the following steps:</p>
<ol class="arabic">
<li><p class="first">Download <a class="reference external" href="./Syn_Thobe.zip">raw material</a></p>
</li>
<li><p class="first">Unzip the file in some location, say in &#8220;~/Documents/datasets/&#8221;</p>
</li>
<li><dl class="first docutils">
<dt>In a terminal window run the following</dt>
<dd><ul class="first last simple">
<li>cd ~/Documents/datasets/Syn_Thobe/scripts</li>
<li>./render.sh</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">The renderer will start rendering the scene in batches of 50 frames per run. The rendering will take a while (~3 hours).</p>
</li>
<li><p class="first">The rendered depth and ground truth images will be stored in &#8220;~/Documents/datasets/Syn_Thobe/images/pngs&#8221;</p>
</li>
<li><p class="first">The script will render the dataset according to the default configuration. Please read below to know what they are and how to change them</p>
</li>
</ol>
</div>
<div class="section" id="id12">
<h1>Raw Material<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h1>
<p>Below we describe the function of each file provided in the raw material</p>
<div class="section" id="scripts">
<h2>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>render.sh</strong>: a bash file to run the renderer in batch mode. The batch size is determined by the capacity of the RAM. With average RAM size (e.g. 16GB), the batch size should not exceed 50. The reason is that as rendering proceed the RAM will be over flowed.</li>
<li><strong>render_thobe.py</strong>: a Maya python script to render thobe-character datasets. This script depends on python but must be run with &#8220;mayapy&#8221;. <strong>render.sh</strong> calls this script for rendering.</li>
<li><strong>render_plain.py</strong>: a Maya python script to render render-character datasets. This script depends on python but must be run with &#8220;mayapy&#8221;. <strong>render.sh</strong> calls this script for rendering.</li>
<li><strong>iff_reader.py</strong>: the previous two scripts use this script to extract png depth and ground images from the iff files generated by Maya Hardware renderer.</li>
<li><strong>make_transparent.py</strong>: remove background from ground truth images</li>
<li><strong>combine_images.py</strong>: combine multiple ground truth images in one image</li>
</ul>
</div>
<div class="section" id="scene-files">
<h2>Scene Files<a class="headerlink" href="#scene-files" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Hamed.mb</strong>: Maya model file.</li>
<li><strong>Cache/</strong>: set of files for caching Thobes movements. Each directory contains cache files for different Thobe material</li>
<li><strong>textures/</strong>: set of images for upper and lower body color textures.</li>
</ul>
</div>
</div>
<div class="section" id="rendering-variables">
<h1>Rendering Variables<a class="headerlink" href="#rendering-variables" title="Permalink to this headline">¶</a></h1>
<p>Here we describe coding variables that control the rendering.</p>
<div class="section" id="batch-size">
<h2>Batch Size<a class="headerlink" href="#batch-size" title="Permalink to this headline">¶</a></h2>
<p>Due to the limitation of memory on normal machines, rendering might halt after rendering several frames causing the full process to fail. For this reason, we render batch of frames in each run. <strong>render.sh</strong> loops to render the entire scene. To render only subset of the scene or to change the batch size, change the values of the variables in <strong>render.sh</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/BatchSize.png"><img alt="_images/BatchSize.png" src="_images/BatchSize.png" style="width: 800px; height: 100px;" /></a>
</div>
</div>
<div class="section" id="plain-character">
<h2>Plain Character<a class="headerlink" href="#plain-character" title="Permalink to this headline">¶</a></h2>
<p>To render the plain character dataset, comment-out the <strong>render_thobe.py</strong> line and uncomment the <strong>render_plain.py</strong> in <strong>render.sh</strong> as in the image below</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/RenderPlain.png"><img alt="_images/RenderPlain.png" src="_images/RenderPlain.png" style="width: 800px; height: 100px;" /></a>
</div>
</div>
<div class="section" id="number-of-lower-body-colors">
<h2>Number of Lower Body Colors<a class="headerlink" href="#number-of-lower-body-colors" title="Permalink to this headline">¶</a></h2>
<p>As discussed above, the lower body (excluding the feet) is divided into 2, 4, or 8 colors. If you use <strong>render.sh</strong> for rendering, the scene will be rendered with the selected lower body descriptor in <strong>render_thobe.py</strong> (e.g. 4 colors). The lower body descriptor can be controlled from the following code segment in <strong>render_thobe.py</strong>:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/LowerBodyColor.png"><img alt="_images/LowerBodyColor.png" src="_images/LowerBodyColor.png" style="width: 800px; height: 200px;" /></a>
</div>
</div>
<div class="section" id="visualize-depth-image">
<h2>Visualize Depth Image<a class="headerlink" href="#visualize-depth-image" title="Permalink to this headline">¶</a></h2>
<p>The depth images generated by the renderer have large integers values (1000-8000) and thus cannot be visualized by normal image software. During conversion from iff to png, depth visualization images are calculated but not saved. Depth visualization is calculated as normalized depth images with values between 0-255. In order to include depth visualization images in the rendering, uncomment the line in <strong>iff_reader.py</strong> where it says <em>...save(oDepthVisualization)</em></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/DepthVisualization.png"><img alt="_images/DepthVisualization.png" src="_images/DepthVisualization.png" style="width: 800px; height: 200px;" /></a>
</div>
</div>
</div>
<div class="section" id="contact-author">
<h1>Contact Author<a class="headerlink" href="#contact-author" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line">Ridwan Jalali</div>
<div class="line">jalalirsh[at]hotmail[dot]com</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Description</a></li>
<li><a class="reference internal" href="#datasets">Datasets</a><ul>
<li><a class="reference internal" href="#plain-character-dataset">Plain-character Dataset</a></li>
<li><a class="reference internal" href="#thobe-character-dataset">Thobe-character Dataset</a><ul>
<li><a class="reference internal" href="#colors">2colors</a></li>
<li><a class="reference internal" href="#id6">4colors</a></li>
<li><a class="reference internal" href="#id8">8colors</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#pre-requisite">Pre-requisite</a></li>
<li><a class="reference internal" href="#id10">Get Started</a></li>
<li><a class="reference internal" href="#id12">Raw Material</a><ul>
<li><a class="reference internal" href="#scripts">Scripts</a></li>
<li><a class="reference internal" href="#scene-files">Scene Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rendering-variables">Rendering Variables</a><ul>
<li><a class="reference internal" href="#batch-size">Batch Size</a></li>
<li><a class="reference internal" href="#plain-character">Plain Character</a></li>
<li><a class="reference internal" href="#number-of-lower-body-colors">Number of Lower Body Colors</a></li>
<li><a class="reference internal" href="#visualize-depth-image">Visualize Depth Image</a></li>
</ul>
</li>
<li><a class="reference internal" href="#contact-author">Contact Author</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="#">Thobe Dataset 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ridwan Jalali.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.
    </div>
  </body>
</html>